
<div class="row">
    <div class="col-xs-12 col-sm-12 text-left contentContainer">    
        Society ID:  {{societyInfo && societyInfo[0]?.societyid}} <br>
      Society Name: {{societyInfo && societyInfo[0]?.societyname}} ,  <br>     
      Society Address: {{societyInfo && societyInfo[0]?.address}},{{societyInfo && societyInfo[0]?.pincode}}<br><br>
      buildingname : {{buildingName}}<br>
    </div>
  </div>
<div class="row">
    <div class="col-xs-12 col-sm-12 text-center contentContainer">
        <div *ngIf="showSpinner">
            <i class="fa fa-spinner fa-spin" style="font-size:24px"></i>
          </div>
        <h3>{{displayText}}</h3>
      <table *ngIf="!showSpinner && flatList[0] && flatList[0].flatid" class="table">
          <thead>
            <tr>
              <th>flatid</th>
              <th>flatname</th>
              <th>ownerid</th>
              <th>pendingpayment</th>
              <th>payment button</th>
              <!-- <th>Calender</th> -->
              <th>Show Owner</th>
              <th>Payment History</th>
              <th>Flat</th>
            </tr>
          </thead>
          <tbody>
            <tr  *ngFor="let flat of flatList">
              <td>{{flat.flatid}}</td>
              <td>{{flat.flatname}}</td>
              <td>{{flat.ownerid}}</td>
              <td>{{flat.pendingpayment}}</td>
              <td> 
                  <button type="button"  class="btn btn-info"  mat-stroked-button data-toggle="modal" data-target="#pendingModal" (click)="paymentID(flat)">Pay</button>
              </td>
              <!-- <td> 
                <button type="button"  class="btn btn-info"  mat-stroked-button (click)="showCalender(flat.flatid)">Calender</button>
              </td> -->
              <td> 
                <button type="button" class="btn btn-info"  mat-stroked-button data-toggle="modal" data-target="#flatPaymentHistoryModal" (click)="showFlatPatmentHistory(flat.flatid)">Show Payment History</button>
              </td>
              <td> 
                  <button type="button" class="btn btn-info"  mat-stroked-button (click)="showOwner(societyid, buildingName,flat.flatid)">Show Owner</button>
                </td>
                <td> 
                    <button type="button" class="btn btn-info"  mat-stroked-button (click)="deleteFlat(flat.flatid)">Delete</button>
                  </td>
            </tr>
          </tbody>
        </table>
    </div>
  </div>
<div *ngFor="">
    {{building | json}}
</div>





<!-- Payment Modal -->
<div id="pendingModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
      <form name="form" (ngSubmit)="f.form.valid" #f="ngForm" novalidate>
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title">Payment Option</h4>  
        <button type="button" class="close" data-dismiss="modal">&times;</button>
          
      </div>
      <div class="modal-body">
          <input type="text" class="form-control" name="payAmount" placeholder="Enter Paynding Payment amount" [(ngModel)]="payAmount" 
          required />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="paymentMethod(payAmount)" >Pay</button>
        <div *ngIf="isClosedValue">
          <div data-dismiss="modal"></div>
        </div>
      </div>
    </div>
</form>
  </div>
</div>



<!-- Payment History Modal -->
<div id="flatPaymentHistoryModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
      <form name="form" (ngSubmit)="f.form.valid" #f="ngForm" novalidate>
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title">Flat Payment History</h4>  
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
         <div class="tableClass" class="mat-elevation-z8">
              <table class="tableClass"  mat-table [dataSource]="dataSource">
            
                <!-- Position Column -->
                <ng-container matColumnDef="idpaymenthistory">
                  <th mat-cell *matHeaderCellDef> Payment Id </th>
                  <td mat-cell *matCellDef="let element"> {{element.idpaymenthistory}} </td>
                </ng-container>
            
                <!-- Name Column -->
                <ng-container matColumnDef="paid">
                  <th mat-cell *matHeaderCellDef> Paid </th>
                  <td mat-cell *matCellDef="let element"> {{element.paid}} </td>
                </ng-container>
            
                <!-- Weight Column -->
                <ng-container matColumnDef="remainingbalance">
                  <th mat-cell *matHeaderCellDef> Remaining Balance </th>
                  <td mat-cell *matCellDef="let element"> {{element.remainingbalance}} </td>
                </ng-container>

                <ng-container matColumnDef="createddate">
                    <th mat-cell *matHeaderCellDef> Payment Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.createddate}} </td>
                  </ng-container>
            
            
                <tr mat-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            
              <mat-paginator class="tableClass" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
            </div>

      </div>
    </div>
</form>
  </div>
</div>

<div>
  <!-- <calendar-component></calendar-component> -->
</div>