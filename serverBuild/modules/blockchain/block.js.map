{"version":3,"sources":["../../../server/modules/blockchain/block.js"],"names":["Block","index","timestamp","data","previousHash","hash","calculateHash","nonce","JSON","stringify","toString","difficulty","substring","Array","join"],"mappings":";;;;;;;;AACA;;;;;;;;IAEMA,K;AACF,mBAAYC,KAAZ,EAAmBC,SAAnB,EAA8BC,IAA9B,EAAoD;AAAA,YAAhBC,YAAgB,uEAAH,EAAG;;AAAA;;AAChD,aAAKH,KAAL,GAAaA,KAAb;AACA,aAAKC,SAAL,GAAiBA,SAAjB;AACA,aAAKC,IAAL,GAAUA,IAAV;AACA,aAAKC,YAAL,GAAoBA,YAApB;AACA,aAAKC,IAAL,GAAY,KAAKC,aAAL,EAAZ;AACA,aAAKC,KAAL,GAAa,CAAb;AACH;;;;wCAEc;AACX,mBAAO,mBAAO,KAAKN,KAAL,GAAW,KAAKC,SAAhB,GAA0B,KAAKE,YAA/B,GAA4CI,KAAKC,SAAL,CAAe,KAAKN,IAApB,CAA5C,GAAsE,KAAKI,KAAlF,EAAyFG,QAAzF,EAAP;AACH;;;kCAESC,U,EAAW;AACjB,mBAAM,KAAKN,IAAL,CAAUO,SAAV,CAAoB,CAApB,EAAsBD,UAAtB,MAAoCE,MAAMF,aAAW,CAAjB,EAAoBG,IAApB,CAAyB,GAAzB,CAA1C,EAAwE;AACpE,qBAAKP,KAAL;AACA,qBAAKF,IAAL,GAAY,KAAKC,aAAL,EAAZ;AACH;AACJ;;;;;;kBAIUN,K","file":"block.js","sourcesContent":["\nimport SHA256 from 'crypto-js/sha256';\n\nclass Block {\n    constructor(index, timestamp, data, previousHash=''){\n        this.index = index;\n        this.timestamp = timestamp;\n        this.data=data;\n        this.previousHash = previousHash;\n        this.hash = this.calculateHash();\n        this.nonce = 0;\n    }\n\n    calculateHash(){\n        return SHA256(this.index+this.timestamp+this.previousHash+JSON.stringify(this.data)+this.nonce).toString();\n    }\n\n    mineBlock(difficulty){\n        while(this.hash.substring(0,difficulty)!==Array(difficulty+1).join('0')){\n            this.nonce++;\n            this.hash = this.calculateHash();\n        }\n    }\n\n}\n\nexport default Block;"]}