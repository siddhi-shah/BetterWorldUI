{"version":3,"sources":["../../../server/modules/blockchain/block.js"],"names":["Block","index","timestamp","data","previousHash","hash","calculateHash","nonce","JSON","stringify","toString","difficulty","substring","Array","join"],"mappings":";;;;;;;;AACA;;;;;;;;IAEMA,K;AACF,mBAAYC,KAAZ,EAAmBC,SAAnB,EAA8BC,IAA9B,EAAoD;AAAA,YAAhBC,YAAgB,uEAAH,EAAG;;AAAA;;AAChD,aAAKH,KAAL,GAAaA,KAAb;AACA,aAAKC,SAAL,GAAiBA,SAAjB;AACA,aAAKC,IAAL,GAAUA,IAAV;AACA,aAAKC,YAAL,GAAoBA,YAApB;AACA,aAAKC,IAAL,GAAY,KAAKC,aAAL,EAAZ;AACA,aAAKC,KAAL,GAAa,CAAb;AACH;;;;wCAEc;AACX,mBAAO,mBAAO,KAAKN,KAAL,GAAW,KAAKC,SAAhB,GAA0B,KAAKE,YAA/B,GAA4CI,KAAKC,SAAL,CAAe,KAAKN,IAApB,CAA5C,GAAsE,KAAKI,KAAlF,EAAyFG,QAAzF,EAAP;AACH;;;kCAESC,U,EAAW;AACjB,mBAAM,KAAKN,IAAL,CAAUO,SAAV,CAAoB,CAApB,EAAsBD,UAAtB,MAAoCE,MAAMF,aAAW,CAAjB,EAAoBG,IAApB,CAAyB,GAAzB,CAA1C,EAAwE;AACpE,qBAAKP,KAAL;AACA,qBAAKF,IAAL,GAAY,KAAKC,aAAL,EAAZ;AACH;AACJ;;;;;;kBAIUN,K","file":"block.js","sourcesContent":["\r\nimport SHA256 from 'crypto-js/sha256';\r\n\r\nclass Block {\r\n    constructor(index, timestamp, data, previousHash=''){\r\n        this.index = index;\r\n        this.timestamp = timestamp;\r\n        this.data=data;\r\n        this.previousHash = previousHash;\r\n        this.hash = this.calculateHash();\r\n        this.nonce = 0;\r\n    }\r\n\r\n    calculateHash(){\r\n        return SHA256(this.index+this.timestamp+this.previousHash+JSON.stringify(this.data)+this.nonce).toString();\r\n    }\r\n\r\n    mineBlock(difficulty){\r\n        while(this.hash.substring(0,difficulty)!==Array(difficulty+1).join('0')){\r\n            this.nonce++;\r\n            this.hash = this.calculateHash();\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Block;"]}