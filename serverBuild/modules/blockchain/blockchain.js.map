{"version":3,"sources":["../../../server/modules/blockchain/blockchain.js"],"names":["BlockChain","chain","createGenesisBlock","difficulty","Block","length","newBlock","previousHash","getLatestBlock","hash","mineBlock","push","i","currentBlock","previousBlock","calculateHash"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,U;AACF,0BAAa;AAAA;;AACT,aAAKC,KAAL,GAAW,CAAC,KAAKC,kBAAL,EAAD,CAAX;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACH;;;;6CACmB;AAChB,mBAAO,IAAIC,eAAJ,CAAU,CAAV,EAAa,YAAb,EAA0B,eAA1B,CAAP;AACH;;;yCAEe;AACZ,mBAAO,KAAKH,KAAL,CAAW,KAAKA,KAAL,CAAWI,MAAX,GAAmB,CAA9B,CAAP;AACH;;;iCACQC,Q,EAAS;AACdA,qBAASC,YAAT,GAAwB,KAAKC,cAAL,GAAsBC,IAA9C;AACA;AACAH,qBAASI,SAAT,CAAmB,KAAKP,UAAxB;AACA,iBAAKF,KAAL,CAAWU,IAAX,CAAgBL,QAAhB;AACH;;;uCAEa;AACV,iBAAI,IAAIM,IAAG,CAAX,EAAaA,IAAE,KAAKX,KAAL,CAAWI,MAA1B,EAAiCO,GAAjC,EAAqC;AACjC,oBAAMC,eAAe,KAAKZ,KAAL,CAAWW,CAAX,CAArB;AACA,oBAAME,gBAAgB,KAAKb,KAAL,CAAWW,IAAE,CAAb,CAAtB;AACA,oBAAGC,aAAaJ,IAAb,KAAsBI,aAAaE,aAAb,EAAzB,EAAsD;AAClD,2BAAO,KAAP;AACH;AACD,oBAAGF,aAAaN,YAAb,KAA8BO,cAAcL,IAA/C,EAAoD;AAChD,2BAAO,KAAP;AACH;AAGJ;AACD,mBAAO,IAAP;AACH;;;;;;kBAGUT,U","file":"blockchain.js","sourcesContent":["import Block from './block';\n\nclass BlockChain {\n    constructor(){\n        this.chain=[this.createGenesisBlock()];\n        this.difficulty = 1;\n    }\n    createGenesisBlock(){\n        return new Block(0, '01/01/2020','genesis block');\n    }\n\n    getLatestBlock(){\n        return this.chain[this.chain.length -1];\n    }\n    addBlock(newBlock){\n        newBlock.previousHash = this.getLatestBlock().hash;\n        //newBlock.hash= newBlock.calculateHash();\n        newBlock.mineBlock(this.difficulty);\n        this.chain.push(newBlock);\n    }\n\n    isChainValid(){\n        for(let i =1;i<this.chain.length;i++){\n            const currentBlock = this.chain[i];\n            const previousBlock = this.chain[i-1];\n            if(currentBlock.hash !== currentBlock.calculateHash()){\n                return false;\n            }\n            if(currentBlock.previousHash !== previousBlock.hash){\n                return false;\n            }\n\n            \n        }\n        return true;\n    }\n}\n\nexport default BlockChain;"]}